--- a/lua/kulala/config/init.lua
+++ b/lua/kulala/config/init.lua
@@ -109,6 +109,13 @@
 end
 
 local function set_kulala_parser()
+  -- In Nix, parsers are pre-installed, so just register the language
+  local ok = pcall(vim.treesitter.language.add, "kulala_http")
+  if ok then
+    vim.treesitter.language.register("kulala_http", { "http", "rest" })
+    return
+  end
+
   local parsers = vim.F.npcall(require, "nvim-treesitter.parsers")
 
   if not parsers then

